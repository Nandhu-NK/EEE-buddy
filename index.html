<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>EEE Buddy ‚Äî Multi-Tool</title>
<style>
  /* ---------- Background ---------- */
  body{
    margin:0;
    font-family:'Segoe UI',Arial,sans-serif;
    background:url('background.png') no-repeat center center/cover;
    background-attachment:fixed;
    color:#fff;
    text-align:center;
    position:relative;
    min-height:100vh;
  }
  /* Dark overlay for readability */
  body::before{
    content:"";
    position:fixed; inset:0;
    background:rgba(0,0,0,0.6);
    z-index:-1;
  }

  /* ---------- Header ---------- */
  header{padding:20px;}
  header h1{
    font-size:2rem;
    color:#00eaff;
    text-shadow:0 0 15px rgba(0,234,255,0.7);
    margin:0 0 6px 0;
  }
  .sub{font-size:1rem; opacity:.8;}

  /* ---------- Menu ---------- */
  .menu{
    display:flex; flex-wrap:wrap; justify-content:center;
    gap:20px; margin:30px auto;
    max-width:900px;
    opacity:0; transform:translateY(-20px);
    animation:fadeSlideIn 1s ease forwards;
  }
  .menu button{
    padding:20px; width:150px; height:150px;
    font-size:1rem; font-weight:700;
    border:none; border-radius:12px; cursor:pointer;
    background:rgba(255,255,255,0.08); color:#fff;
    box-shadow:0 0 15px rgba(0,234,255,0.3);
    display:flex; flex-direction:column; align-items:center; justify-content:center; gap:10px;
    backdrop-filter:blur(8px);
    transition:transform .3s ease, box-shadow .3s ease;
  }
  .menu button:hover{ transform:scale(1.05); box-shadow:0 0 25px rgba(0,234,255,0.8); }

  .icon{font-size:2.5rem; line-height:1;}
  .glow{animation:glowPulse 1s infinite alternate; color:#ffea00;}
  @keyframes glowPulse{ from{ text-shadow:0 0 5px yellow,0 0 10px orange; } to{ text-shadow:0 0 15px yellow,0 0 25px orange; } }
  .rotate{ animation:rotateAnim 2s linear infinite; color:#00eaff; }
  @keyframes rotateAnim{ 100%{ transform:rotate(360deg); } }
  .spin{ animation:spinGear 5s linear infinite; color:#ff9b4b; }
  @keyframes spinGear{ 100%{ transform:rotate(360deg); } }
  .charge{ animation:chargeAnim 1.5s infinite alternate; color:#00ff7f; }
  @keyframes chargeAnim{ from{opacity:.6;} to{opacity:1; text-shadow:0 0 15px #00ff7f;} }

  @keyframes fadeSlideIn{ to{ opacity:1; transform:translateY(0); } }
  @keyframes fadeIn{ to{ opacity:1; } }

  /* ---------- Cards ---------- */
  .card{
    background:rgba(255,255,255,0.08);
    border-radius:15px; padding:20px; max-width:420px;
    margin:20px auto; backdrop-filter:blur(12px);
    border:1px solid rgba(255,255,255,0.2);
    box-shadow:0 4px 20px rgba(0,0,0,0.4);
    display:none; opacity:0; animation:fadeIn .6s ease forwards;
    text-align:left;
  }
  .card h2{ margin:0 0 6px 0; text-align:center; color:#ffd36b; }
  .small{font-size:.9rem; opacity:.9; text-align:center; margin-bottom:8px;}

  label{ display:block; margin-top:10px; font-weight:700; }
  input{
    width:95%; padding:10px; margin-top:5px;
    border-radius:8px; border:none; background:rgba(255,255,255,0.15); color:#fff;
  }
  input::placeholder{ color:rgba(255,255,255,0.6); }

  .controls{ margin-top:15px; display:flex; gap:10px; flex-wrap:wrap; }
  button.calc-btn{
    flex:1; padding:10px 15px; border:none; border-radius:8px; font-weight:700; cursor:pointer;
    background:linear-gradient(90deg,#ffd36b,#ff9b4b); color:#06121a;
  }
  .secondary{ background:linear-gradient(90deg,#00eaff,#0077ff); color:#06121a; }
  .ghost{ background:transparent; border:1px solid rgba(255,255,255,.4); color:#fff; }

  .result{
    margin-top:15px; padding:10px; background:rgba(0,0,0,0.3);
    border-radius:8px; text-align:center;
  }
</style>
</head>
<body>

<header>
  <h1>‚ö° EEE Buddy ‚Äî Multi-Tool</h1>
  <div class="sub">Choose your calculator</div>
</header>

<!-- ---------- Home Menu ---------- -->
<div id="home" class="menu">
  <button onclick="showCalc('ohm')"><div class="icon glow">‚ö°</div>Ohm's Law</button>
  <button onclick="showCalc('xfmr')"><div class="icon rotate">üîÑ</div>Transformer</button>
  <button onclick="showCalc('three')"><div class="icon spin">‚öôÔ∏è</div>3-Phase Power</button>
  <button onclick="showCalc('battery')"><div class="icon charge">üîã</div>Battery Backup</button>
</div>

<!-- ---------- Ohm‚Äôs Law ---------- -->
<div id="ohm" class="card" aria-live="polite">
  <h2>Ohm's Law</h2>
  <div class="small">Enter any two values to compute the rest.</div>
  <label>Voltage (V)</label><input id="ohmV" type="number" step="any" placeholder="e.g., 12">
  <label>Current (A)</label><input id="ohmI" type="number" step="any" placeholder="e.g., 2">
  <label>Resistance (Œ©)</label><input id="ohmR" type="number" step="any" placeholder="e.g., 6">
  <label>Power (W)</label><input id="ohmP" type="number" step="any" placeholder="e.g., 24">
  <div class="controls">
    <button class="calc-btn" onclick="calcOhm()">Calculate</button>
    <button class="calc-btn secondary" onclick="clearOhm()">Clear</button>
    <button class="calc-btn ghost" onclick="goHome()">Back</button>
  </div>
  <div id="ohmRes" class="result"></div>
</div>

<!-- ---------- Transformer ---------- -->
<div id="xfmr" class="card" aria-live="polite">
  <h2>Transformer</h2>
  <div class="small">Provide Primary V & I. Turns ratio defaults to 2 (editable).</div>
  <label>Primary Voltage (Vp)</label><input id="tp_vp" type="number" step="any" placeholder="e.g., 230">
  <label>Primary Current (Ip)</label><input id="tp_ip" type="number" step="any" placeholder="e.g., 2">
  <label>Turns Ratio (Np/Ns)</label><input id="tp_ratio" type="number" step="any" placeholder="e.g., 2">
  <div class="controls">
    <button class="calc-btn" onclick="calcXfmr()">Calculate</button>
    <button class="calc-btn secondary" onclick="clearXfmr()">Clear</button>
    <button class="calc-btn ghost" onclick="goHome()">Back</button>
  </div>
  <div id="tpRes" class="result"></div>
</div>

<!-- ---------- 3-Phase Power ---------- -->
<div id="three" class="card" aria-live="polite">
  <h2>3-Phase Power</h2>
  <div class="small">Enter V, I and pf (defaults to 1 if empty).</div>
  <label>Line Voltage (V)</label><input id="t_vl" type="number" step="any" placeholder="e.g., 415">
  <label>Line Current (A)</label><input id="t_il" type="number" step="any" placeholder="e.g., 50">
  <label>Power Factor</label><input id="t_pf" type="number" step="any" placeholder="e.g., 0.8">
  <div class="controls">
    <button class="calc-btn" onclick="calcThree()">Calculate</button>
    <button class="calc-btn secondary" onclick="clearThree()">Clear</button>
    <button class="calc-btn ghost" onclick="goHome()">Back</button>
  </div>
  <div id="threeRes" class="result"></div>
</div>

<!-- ---------- Battery Backup ---------- -->
<div id="battery" class="card" aria-live="polite">
  <h2>Battery Backup</h2>
  <div class="small">Enter Battery Ah, Voltage and Load (W).</div>
  <label>Battery Capacity (Ah)</label><input id="b_ah" type="number" step="any" placeholder="e.g., 150">
  <label>Voltage (V)</label><input id="b_v" type="number" step="any" placeholder="e.g., 12 or 48">
  <label>Load (W)</label><input id="b_load" type="number" step="any" placeholder="e.g., 200">
  <div class="controls">
    <button class="calc-btn" onclick="calcBattery()">Calculate</button>
    <button class="calc-btn secondary" onclick="clearBattery()">Clear</button>
    <button class="calc-btn ghost" onclick="goHome()">Back</button>
  </div>
  <div id="batRes" class="result"></div>
</div>

<!-- ---------- Scripts (keep at end so everything exists before JS runs) ---------- -->
<script>
  /* View switching */
  function showCalc(id){
    // hide home
    document.getElementById('home').style.display = 'none';
    // hide all cards
    document.querySelectorAll('.card').forEach(c => c.style.display='none');
    // show selected card
    const card = document.getElementById(id);
    card.style.display = 'block';
    card.style.opacity = '0';
    // trigger fade
    requestAnimationFrame(()=>{ card.style.animation='fadeIn .6s ease forwards'; });
    // optional: scroll to top of the card on mobile
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }
  function goHome(){
    document.querySelectorAll('.card').forEach(c => c.style.display='none');
    const home = document.getElementById('home');
    home.style.display = 'flex';
  }

  /* ---------- Ohm ---------- */
  function calcOhm(){
    let V = parseFloat(document.getElementById('ohmV').value);
    let I = parseFloat(document.getElementById('ohmI').value);
    let R = parseFloat(document.getElementById('ohmR').value);
    let P = parseFloat(document.getElementById('ohmP').value);
    const provided = [V,I,R,P].filter(x=>!isNaN(x)).length;
    if(provided < 2){ alert('Enter at least two values'); return; }
    if(!isNaN(V) && !isNaN(I)){ R = V/I; P = V*I; }
    else if(!isNaN(V) && !isNaN(R)){ I = V/R; P = V*I; }
    else if(!isNaN(I) && !isNaN(R)){ V = I*R; P = V*I; }
    else if(!isNaN(P) && !isNaN(I)){ V = P/I; R = V/I; }
    else if(!isNaN(P) && !isNaN(V)){ I = P/V; R = V/I; }
    else if(!isNaN(P) && !isNaN(R)){ I = Math.sqrt(P/R); V = I*R; }
    document.getElementById('ohmRes').innerHTML =
      `V = ${V.toFixed(2)} V<br>I = ${I.toFixed(2)} A<br>R = ${R.toFixed(2)} Œ©<br>P = ${P.toFixed(2)} W`;
  }
  function clearOhm(){
    ['ohmV','ohmI','ohmR','ohmP'].forEach(id=>document.getElementById(id).value='');
    document.getElementById('ohmRes').innerHTML='';
  }

  /* ---------- Transformer ---------- */
  function calcXfmr(){
    const Vp = parseFloat(document.getElementById('tp_vp').value);
    const Ip = parseFloat(document.getElementById('tp_ip').value);
    let ratio = parseFloat(document.getElementById('tp_ratio').value);
    if(isNaN(ratio) || ratio <= 0) ratio = 2;
    if(isNaN(Vp) || isNaN(Ip)){ alert('Enter primary V and I'); return; }
    const Vs = Vp / ratio;
    const Is = Ip * ratio;
    document.getElementById('tpRes').innerHTML =
      `Vs = ${Vs.toFixed(2)} V<br>Is = ${Is.toFixed(2)} A<br>Turns Ratio = ${ratio}`;
  }
  function clearXfmr(){
    ['tp_vp','tp_ip','tp_ratio'].forEach(id=>document.getElementById(id).value='');
    document.getElementById('tpRes').innerHTML='';
  }

  /* ---------- 3-Phase ---------- */
  function calcThree(){
    const Vl = parseFloat(document.getElementById('t_vl').value);
    const Il = parseFloat(document.getElementById('t_il').value);
    let pf = parseFloat(document.getElementById('t_pf').value);
    if(isNaN(pf) || pf <= 0) pf = 1;
    if(isNaN(Vl) || isNaN(Il)){ alert('Enter V and I'); return; }
    const S_va = Math.SQRT3 * Vl * Il;
    const P_kw = (S_va * pf) / 1000;
    document.getElementById('threeRes').innerHTML =
      `S = ${S_va.toFixed(2)} VA<br>P = ${P_kw.toFixed(3)} kW<br>pf = ${pf}`;
  }
  function clearThree(){
    ['t_vl','t_il','t_pf'].forEach(id=>document.getElementById(id).value='');
    document.getElementById('threeRes').innerHTML='';
  }

  /* ---------- Battery ---------- */
  function calcBattery(){
    const Ah = parseFloat(document.getElementById('b_ah').value);
    const V = parseFloat(document.getElementById('b_v').value);
    const loadW = parseFloat(document.getElementById('b_load').value);
    if(isNaN(Ah) || isNaN(V) || isNaN(loadW)){ alert('Enter Ah, Voltage, and Load'); return; }
    const dod = 0.8, eff = 0.9; // defaults
    const totalWh = Ah * V;
    const usableWh = totalWh * dod * eff;
    const hours = usableWh / loadW;
    const hr = Math.floor(hours);
    const min = Math.round((hours - hr) * 60);
    document.getElementById('batRes').innerHTML =
      `Backup Time ‚âà ${hr}h ${min}m<br>(Usable Energy = ${usableWh.toFixed(1)} Wh)`;
  }
  function clearBattery(){
    ['b_ah','b_v','b_load'].forEach(id=>document.getElementById(id).value='');
    document.getElementById('batRes').innerHTML='';
  }
</script>

</body>
</html>
